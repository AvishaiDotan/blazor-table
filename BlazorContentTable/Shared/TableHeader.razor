

<thead>
    <tr>
        @if (TableHeaderData != null)
        {
            @foreach (var header in TableHeaderData.Select((item, idx) => new { item, idx }))
            {
                <HeaderCell 
                    headerData="@header.item"
                    columnIdx="@header.idx"
                    addNewColumn="(columnIdx, type) => addNewColumn.Invoke(columnIdx, type)"
                    handleModalChanges="(columnIdx, modalType, state) => handleModalChanges.Invoke(columnIdx, modalType, state)" />
            }
            <th @onclick='() => addNewColumn.Invoke(TableHeaderData.Count(), "text")' oncontextmenu=" return false;">
                <AppSvgs type="plus"/>
            </th>
        }
    </tr>
</thead>

@code {

    [Parameter]
    public List<TableHeaderClass> TableHeaderData { get; set; }

    [Parameter]
    public Action<int, string, bool> handleModalChanges { get; set; }

    [Parameter]
    public Action<int, string> addNewColumn { get; set; }
}
